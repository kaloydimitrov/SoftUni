{% extends 'base/base.html' %}
{% load static %}

{% block content %}

<div>

</div>

<div class="slideshow-container">
    <img src="{% static 'pictures/special-offer.png' %}" alt="special-logo" class="special-logo">

    <h1 class="offers-text">Offers</h1>
    {% for pizza in pizzas %}
        {% if pizza.is_offer %}
            <img class="slideshow-image" alt="slide-image" src="{{ pizza.image.url }}">
        {% endif %}
    {% endfor %}

    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>


<style>
.slideshow-container {
    height: 400px;
    background-color: rgba(17, 93, 0, 0.95);
    position: relative;
    overflow: hidden;
}

.slideshow-image {
    margin-left: auto;
    margin-right: auto;
    position: absolute;
    margin-left: 800px;
    opacity: 0;
    transition: transform 1s ease-in-out, opacity 1s ease-in-out;
}

.slideshow-image.active {
    opacity: 1;
    transform: translateX(10%);
}

.slideshow-image.previous {
    transform: translateX(-100%);
}

.slideshow-image.next {
    transform: translateX(-10%);
}

.offers-text {

    margin-left: auto;
    margin-right: auto;
    position: static;
    font-size: 70px;
    color: #ff0000;
    padding: 2px;
}

.prev, .next {
    cursor: pointer;
    position: absolute;
    padding: 16px;
    color: rgb(0, 0, 0);
    font-weight: bold;
    font-size: 40px;
    transition: 0.6s ease;
    user-select: none;
}

.prev:hover, .next:hover {
    background-color: #115d00;
    color: rgb(4, 170, 109);
}

.prev {
    left: 0;
}

.next {
    right: 0;
    border-radius: 3px 0 0 3px;
}

.special-logo {
    position: fixed;
    margin-right: 1000px;
    transform: scale(5.0);
    animation: rotation 20s infinite linear;
}

@keyframes rotation {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(359deg);
    }
}

</style>


<script>
var slideIndex = 1;
showSlides(slideIndex);

function plusSlides(n) {
    showSlides(slideIndex += n);
}

function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("slideshow-image");

    if (n > slides.length) {
        slideIndex = 1;
    }
    if (n < 1) {
        slideIndex = slides.length;
    }

    for (i = 0; i < slides.length; i++) {
        slides[i].classList.remove("active", "previous", "next");
    }

    slides[slideIndex - 1].classList.add("active");

    if (slideIndex === 1) {
        slides[slides.length - 1].classList.add("previous");
        slides[slideIndex].classList.add("next");
    } else if (slideIndex === slides.length) {
        slides[slideIndex - 2].classList.add("previous");
        slides[0].classList.add("next");
    } else {
        slides[slideIndex - 2].classList.add("previous");
        slides[slideIndex].classList.add("next");
    }
}

setInterval(function() {
    plusSlides(1);
}, 3000);
</script>

{% endblock %}
